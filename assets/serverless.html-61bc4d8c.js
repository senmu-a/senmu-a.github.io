import{_ as i,p as t,q as s,s as e,R as l,t as a,Y as n,n as r}from"./framework-aa5c4115.js";const d={},c=n('<h1 id="serverless" tabindex="-1"><a class="header-anchor" href="#serverless" aria-hidden="true">#</a> serverless</h1><p>优势：</p><ol><li>开发者无需关心服务器运维，nodejs版本，操作系统环境，arm/x86架构等问题，只需关心代码逻辑。</li><li>按量计费：调用次数 <em>计算时间</em> 内存大小。</li><li>高性能，高并发（自动扩容），高可用（多可用区部署），高安全（权限控制 role vpc 安全组）。</li><li>快速迭代：3天 =&gt; 5分钟 =&gt; 2分钟。</li><li>生态健全：日志 监控 开箱即用，版本控制，CI CD, 数据库，静态资源存储 <ol><li>框架支持：express koa nestjs nextjs</li></ol></li><li>边缘部署</li></ol><p>缺点：</p><ol><li>冷启动：第一次调用时，需要加载运行环境，会有一定的延迟 nodejs（800ms）。</li><li>限制：最大执行时间 15分钟，内存 128MB-10GB，如何解决15分钟限制（分批处理 step function，异步调用）。</li><li>强关联云厂商</li></ol><h2 id="应用场景" tabindex="-1"><a class="header-anchor" href="#应用场景" aria-hidden="true">#</a> 应用场景</h2>',6),h=e("li",null,"SSR",-1),m=e("li",null,"API（restful，graphql）",-1),p=e("li",null,"前端的 错误性能 监控日志系统：serverless sqs kafka elk sql s3",-1),g={href:"https://aws.amazon.com/cn/blogs/networking-and-content-delivery/image-optimization-using-amazon-cloudfront-and-aws-lambda/",target:"_blank",rel:"noopener noreferrer"},u={href:"https://github.com/aws-samples/lambda-edge-resizing-images-custom-origin",target:"_blank",rel:"noopener noreferrer"},_=e("li",null,[l("AI gitlab codereview "),e("ol",null,[e("li",null,"mr open to master webhook => api gateway => proxy lambda => nestjs lambda => aws bedrock aws-sdk invoke")])],-1),b=n('<h2 id="服务厂商" tabindex="-1"><a class="header-anchor" href="#服务厂商" aria-hidden="true">#</a> 服务厂商</h2><ol><li>aws：lambda，step function（所有语言都支持，自定义容器 docker）；lambda@edge（python，js）</li><li>cloudflare worker：js</li><li>google Cloud Function</li><li>阿里云：FC / SAE / EdgeRoutine</li><li>腾讯云</li><li>华为云</li></ol><h2 id="aws" tabindex="-1"><a class="header-anchor" href="#aws" aria-hidden="true">#</a> AWS</h2><ol><li>lambda：函数计算</li><li>api gateway</li><li>AWS WAF：web 应用防火墙</li><li>cloudfront：CDN</li><li>s3：对象存储</li><li>cloudwatch：监控 日志</li><li>codepipeline：CI CD</li></ol>',4),f={href:"https://aws.amazon.com/blogs",target:"_blank",rel:"noopener noreferrer"},w={href:"https://www.uber.com/en-IN/blog/engineering/",target:"_blank",rel:"noopener noreferrer"},k={href:"https://netflixtechblog.medium.com/",target:"_blank",rel:"noopener noreferrer"},v=e("p",null,"CI CD： 如何创建aws 云上资源",-1),x=e("ol",null,[e("li",null,"SAM：serverless application model: sam build; sam deploy ./template.yaml"),e("li",null,"cloudformation：配置类型"),e("li",null,"CDK：cloud development kit：typescript python java c# c++, pnpm build, cdk deploy"),e("li",null,"terraform 跨云")],-1);function y(C,z){const o=r("ExternalLinkIcon");return t(),s("div",null,[c,e("ol",null,[h,m,p,e("li",null,[l("图片压缩 格式转换："),e("a",g,[l("https://aws.amazon.com/cn/blogs/networking-and-content-delivery/image-optimization-using-amazon-cloudfront-and-aws-lambda/"),a(o)]),e("a",u,[l("https://github.com/aws-samples/lambda-edge-resizing-images-custom-origin"),a(o)])]),_]),b,e("p",null,[e("a",f,[l("https://aws.amazon.com/blogs"),a(o)]),e("a",w,[l("https://www.uber.com/en-IN/blog/engineering/"),a(o)]),e("a",k,[l("https://netflixtechblog.medium.com/"),a(o)]),l(" cloudflare blog enginneing at meta apple tech blog slack engineering blog")]),v,x])}const j=i(d,[["render",y],["__file","serverless.html.vue"]]);export{j as default};
